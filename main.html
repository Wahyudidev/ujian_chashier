<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>C:\Users\HP\Documents\Latihan\siap_ujian\main.c</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="Code::Blocks Exporter plugin" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.style11 { color: #000000; background-color: #FFFFFF; }
.style64 { color: #C8C8C8; }
.style72 { color: #C8C8C8; }
.style75 { color: #C8C8C8; }
.style1 { color: #9898D9; }
.style23 { color: #9898D9; }
.style65 { color: #C0C0C0; }
.style87 { color: #C0C0C0; }
.style2 { color: #9898D9; }
.style66 { color: #C0C0C0; }
.style3 { color: #8080FF; font-weight: bold; }
.style24 { color: #8080FF; font-weight: bold; }
.style67 { color: #AAAAF0; font-weight: bold; }
.style88 { color: #AAAAF0; font-weight: bold; }
.style15 { color: #8080FF; font-weight: bold; }
.style79 { color: #AAAAF0; font-weight: bold; }
.style17 { color: #008080; }
.style81 { color: #6B9999; }
.style18 { color: #800000; }
.style82 { color: #AC5959; }
.style4 { color: #F000F0; }
.style68 { color: #F0C8F0; }
.style5 { color: #0000A0; font-weight: bold; }
.style69 { color: #8787C8; font-weight: bold; }
.style16 { color: #00A000; font-weight: bold; }
.style80 { color: #9AC89A; font-weight: bold; }
.style19 { color: #BE00BE; font-weight: bold; }
.style83 { color: #BE89BE; font-weight: bold; }
.style6 { color: #0000FF; }
.style12 { color: #0000FF; }
.style20 { color: #0000FF; }
.style70 { color: #BEBEFF; }
.style76 { color: #BEBEFF; }
.style7 { color: #E0A000; }
.style71 { color: #E0CE9F; }
.style8 { color: #000000; }
.style9 { color: #00A000; }
.style73 { color: #84A084; }
.style10 { color: #FF0000; }
.style74 { color: #FFC8C8; }
.style50 { color: #404080; font-style: italic; }
.style114 { color: #8585AC; font-style: italic; }
.style34 { color: #000000; background-color: #80FFFF; font-weight: bold; }
.style35 { color: #FFFFFF; background-color: #FF0000; font-weight: bold; }
.style37 { color: #373737; }
--></style></head>
<body>
<pre>
<code><span style="font: 8pt Courier New;"><span class="body">  1 </span><span class="style2">//Awal Code</span>
<span class="body">  2  </span>
<span class="body">  3  </span><span class="style2">//Start Include</span>
<span class="body">  4  </span><span class="style9">#include &lt;string.h&gt;</span>
<span class="body">  5  </span><span class="style9">#include &lt;stdio.h&gt;</span>
<span class="body">  6  </span><span class="style9">#include &lt;stdlib.h&gt;</span>
<span class="body">  7  </span><span class="style9">#include &lt;time.h&gt;</span>
<span class="body">  8  </span><span class="style2">//End Include</span>
<span class="body">  9  </span>
<span class="body"> 10  </span><span class="style2">//Define Variabel</span>
<span class="body"> 11  </span><span class="style9">#define MIN_ITEMS 1</span>
<span class="body"> 12  </span><span class="style9">#define MAX_ITEMS 5</span>
<span class="body"> 13  </span>
<span class="body"> 14  </span><span class="style2">//Start code struct barang</span>
<span class="body"> 15  </span><span class="style5">struct </span><span class="style11">barang </span><span class="style10">{</span>
<span class="body"> 16      </span><span class="style5">char </span><span class="style11">nama</span><span class="style10">[</span><span class="style4">20</span><span class="style10">];</span>
<span class="body"> 17      </span><span class="style5">int </span><span class="style11">harga</span><span class="style10">;</span>
<span class="body"> 18      </span><span class="style5">int </span><span class="style11">jumlah</span><span class="style10">;</span>
<span class="body"> 19  </span><span class="style10">};</span>
<span class="body"> 20  </span><span class="style2">//End code struct barang</span>
<span class="body"> 21  </span>
<span class="body"> 22  </span><span class="style2">//Start code</span>
<span class="body"> 23  </span>
<span class="body"> 24  </span><span class="style2">//Start Code Tampilan Awal</span>
<span class="body"> 25  </span><span class="style5">void </span><span class="style11">tampilanAwal </span><span class="style10">(</span><span class="style5">struct </span><span class="style11">barang isiBarang</span><span class="style10">[]){</span>
<span class="body"> 26      </span><span class="style2">//Code Tampilan Awal</span>
<span class="body"> 27      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Selamat Datang di Toko SKENSA\n"</span><span class="style10">);</span>
<span class="body"> 28      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Silahkan Pilih Barang yang anda inginkan (Masukkan pilihan dibawah!) \n"</span><span class="style10">);</span>
<span class="body"> 29      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================\n"</span><span class="style10">);</span>
<span class="body"> 30      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"|No.|Nama Barang     |Harga         |\n"</span><span class="style10">);</span>
<span class="body"> 31  </span>
<span class="body"> 32      </span><span class="style2">//Looping array barang</span>
<span class="body"> 33      </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body"> 34          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"|%-3d|%-16s|Rp. %-10d|\n"</span><span class="style10">, </span><span class="style11">i</span><span class="style10">+</span><span class="style4">1</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">nama</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">harga</span><span class="style10">);</span>
<span class="body"> 35      </span><span class="style10">}</span>
<span class="body"> 36  </span>
<span class="body"> 37      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================\n\n"</span><span class="style10">);</span>
<span class="body"> 38      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"1-5. Pilihan Barang\n"</span><span class="style10">);</span>
<span class="body"> 39      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"99.  Struk Pembayaran\n"</span><span class="style10">);</span>
<span class="body"> 40      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"55.  Reset Pilihan\n"</span><span class="style10">);</span>
<span class="body"> 41      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"00.  Keluar\n"</span><span class="style10">);</span>
<span class="body"> 42      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================\n"</span><span class="style10">);</span>
<span class="body"> 43  </span>
<span class="body"> 44  </span><span class="style10">}</span>
<span class="body"> 45  </span><span class="style2">//End Code Tampilan Awal</span>
<span class="body"> 46  </span>
<span class="body"> 47  </span><span class="style2">//Start code cetak struk</span>
<span class="body"> 48  </span><span class="style5">void </span><span class="style11">cetakNota</span><span class="style10">(</span><span class="style5">struct </span><span class="style11">barang isiBarang</span><span class="style10">[], </span><span class="style5">int </span><span class="style11">uangBayar</span><span class="style10">){</span>
<span class="body"> 49      </span><span class="style2">//Deklarasi Cetak Nota barang</span>
<span class="body"> 50      </span><span class="style5">int </span><span class="style11">totalHarga</span><span class="style10">, </span><span class="style11">diskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 51      </span><span class="style5">int </span><span class="style11">totalSemuaHarga </span><span class="style10">= </span><span class="style4">0</span><span class="style10">, </span><span class="style11">totalSemuaDiskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">, </span><span class="style11">totalBayar</span><span class="style10">, </span><span class="style11">kembalian</span><span class="style10">;</span>
<span class="body"> 52      </span><span class="style5">int </span><span class="style11">j </span><span class="style10">= </span><span class="style4">1</span><span class="style10">;</span>
<span class="body"> 53  </span>
<span class="body"> 54      </span><span class="style2">//Deklarasi Time</span>
<span class="body"> 55      </span><span class="style2">//ambil dari library terlebih dahulu dengan time(NULL);</span>
<span class="body"> 56      </span><span class="style5">time_t </span><span class="style11">t </span><span class="style10">= </span><span class="style11">time</span><span class="style10">(</span><span class="style11">NULL</span><span class="style10">);</span>
<span class="body"> 57      </span><span class="style2">//Ambil struct tm dari library dan ganti menjadi tanggal</span>
<span class="body"> 58      </span><span class="style2">//setelah itu ambil pointer *localtime(deklarasi dari time_t yaitu t)</span>
<span class="body"> 59      </span><span class="style5">struct </span><span class="style11">tm tanggal </span><span class="style10">= *</span><span class="style11">localtime</span><span class="style10">(&amp;</span><span class="style11">t</span><span class="style10">);</span>
<span class="body"> 60  </span>
<span class="body"> 61      </span><span class="style2">//Deklarasi file txt</span>
<span class="body"> 62      </span><span class="style5">char </span><span class="style11">filename</span><span class="style10">[</span><span class="style4">100</span><span class="style10">];</span>
<span class="body"> 63      </span><span class="style5">char </span><span class="style11">id</span><span class="style10">[</span><span class="style4">30</span><span class="style10">];</span>
<span class="body"> 64  </span><span class="style2">//    strftime(filename, sizeof(filename), "%Y-%m-%d_%H-%M-%S.txt", &amp;tanggal)</span>
<span class="body"> 65      </span><span class="style11">strftime</span><span class="style10">(</span><span class="style11">filename</span><span class="style10">, </span><span class="style5">sizeof</span><span class="style10">(</span><span class="style11">filename</span><span class="style10">), </span><span class="style6">"Struk_%Y%m%d_%H%M%S.txt"</span><span class="style10">, &amp;</span><span class="style11">tanggal</span><span class="style10">);</span>
<span class="body"> 66      </span><span class="style11">strftime</span><span class="style10">(</span><span class="style11">id</span><span class="style10">, </span><span class="style5">sizeof</span><span class="style10">(</span><span class="style11">id</span><span class="style10">), </span><span class="style6">"%Y%m%d%H%M%S"</span><span class="style10">, &amp;</span><span class="style11">tanggal</span><span class="style10">);</span>
<span class="body"> 67  </span>
<span class="body"> 68      </span><span class="style2">//Open file dan pointer</span>
<span class="body"> 69      </span><span class="style11">FILE </span><span class="style10">*</span><span class="style11">f </span><span class="style10">= </span><span class="style11">fopen</span><span class="style10">(</span><span class="style11">filename</span><span class="style10">,</span><span class="style6">"w"</span><span class="style10">);</span>
<span class="body"> 70  </span>
<span class="body"> 71      </span><span class="style2">//Isi txt</span>
<span class="body"> 72      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|================================================================================|\n"</span><span class="style10">);</span>
<span class="body"> 73      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                                   Toko Skensa                                  |\n"</span><span class="style10">);</span>
<span class="body"> 74      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                      Jl. HOS Cokroaminoto No.84, Denpasar                      |\n"</span><span class="style10">);</span>
<span class="body"> 75      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                                      Bali                                      |\n"</span><span class="style10">);</span>
<span class="body"> 76      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                                Telp : 0816285791                               |\n"</span><span class="style10">);</span>
<span class="body"> 77      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|ID Struk : %s                                                       |\n"</span><span class="style10">,</span><span class="style11">id</span><span class="style10">);</span>
<span class="body"> 78      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Tanggal  : %d-%02d-%d %02d:%02d:%02d                                                  |\n"</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_mday</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_mon </span><span class="style10">+ </span><span class="style4">1</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_year </span><span class="style10">+ </span><span class="style4">1900</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_hour</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_min</span><span class="style10">, </span><span class="style11">tanggal</span><span class="style10">.</span><span class="style11">tm_sec</span><span class="style10">);</span>
<span class="body"> 79      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|================================================================================|\n"</span><span class="style10">);</span>
<span class="body"> 80      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"| No. |Nama Barang     | Jumlah | * | Harga     | = | Total         | Diskon     |\n"</span><span class="style10">);</span>
<span class="body"> 81      </span><span class="style11">fprintf </span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|=====|================|========|===|===========|===|===============|============|\n"</span><span class="style10">);</span>
<span class="body"> 82  </span>
<span class="body"> 83      </span><span class="style2">//Start Pengulangan untuk barang dan penambahan total</span>
<span class="body"> 84      </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body"> 85          </span><span class="style5">if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">== </span><span class="style4">0</span><span class="style10">){</span>
<span class="body"> 86              </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body"> 87          </span><span class="style10">}</span>
<span class="body"> 88          </span><span class="style5">else</span><span class="style10">{</span>
<span class="body"> 89              </span><span class="style2">//Perhitungan Total Harga Per item</span>
<span class="body"> 90              </span><span class="style11">totalHarga </span><span class="style10">= </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">* </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">harga</span><span class="style10">;</span>
<span class="body"> 91              </span><span class="style2">//Perhitungan diskon</span>
<span class="body"> 92              </span><span class="style5">if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">&gt;= </span><span class="style4">5</span><span class="style10">){</span>
<span class="body"> 93                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style11">totalHarga </span><span class="style10">* </span><span class="style4">0.15</span><span class="style10">;</span>
<span class="body"> 94              </span><span class="style10">}</span>
<span class="body"> 95              </span><span class="style5">else if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">&gt;= </span><span class="style4">3</span><span class="style10">){</span>
<span class="body"> 96                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style11">totalHarga </span><span class="style10">* </span><span class="style4">0.1</span><span class="style10">;</span>
<span class="body"> 97              </span><span class="style10">}</span>
<span class="body"> 98              </span><span class="style5">else</span><span class="style10">{</span>
<span class="body"> 99                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">100              </span><span class="style10">}</span>
<span class="body">101              </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|  %d  |%-16s|    %-3d | * | Rp. %-6d| = | Rp. %-10d| Rp. %-7d|\n"</span><span class="style10">, </span><span class="style11">j</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">nama</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">harga</span><span class="style10">, </span><span class="style11">totalHarga</span><span class="style10">, </span><span class="style11">diskon</span><span class="style10">);</span>
<span class="body">102              </span><span class="style2">//Penambahan No.</span>
<span class="body">103              </span><span class="style11">j</span><span class="style10">++;</span>
<span class="body">104              </span><span class="style2">//Penambahan totalharga dan diskon</span>
<span class="body">105              </span><span class="style11">totalSemuaHarga </span><span class="style10">+= </span><span class="style11">totalHarga</span><span class="style10">;</span>
<span class="body">106              </span><span class="style11">totalSemuaDiskon </span><span class="style10">+= </span><span class="style11">diskon</span><span class="style10">;</span>
<span class="body">107          </span><span class="style10">}</span>
<span class="body">108      </span><span class="style10">}</span>
<span class="body">109      </span><span class="style2">//End Pengulangan untuk barang dan penambahan total</span>
<span class="body">110      </span><span class="style2">//Aritmatika Kembalian dan totalbelanja</span>
<span class="body">111      </span><span class="style11">totalBayar </span><span class="style10">= </span><span class="style11">totalSemuaHarga </span><span class="style10">- </span><span class="style11">totalSemuaDiskon</span><span class="style10">;</span>
<span class="body">112      </span><span class="style11">kembalian </span><span class="style10">= </span><span class="style11">uangBayar </span><span class="style10">- </span><span class="style11">totalBayar</span><span class="style10">;</span>
<span class="body">113  </span>
<span class="body">114      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|================================================================================|\n"</span><span class="style10">);</span>
<span class="body">115      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                                                                                |\n"</span><span class="style10">);</span>
<span class="body">116      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Total Harga  = Rp. %-61d|\n"</span><span class="style10">, </span><span class="style11">totalSemuaHarga</span><span class="style10">);</span>
<span class="body">117      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Total Diskon = Rp. %-61d|\n"</span><span class="style10">, </span><span class="style11">totalSemuaDiskon</span><span class="style10">);</span>
<span class="body">118      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Tagihan      = Rp. %-61d|\n"</span><span class="style10">, </span><span class="style11">totalBayar</span><span class="style10">);</span>
<span class="body">119      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Pembayaran   = Rp. %-61d|\n"</span><span class="style10">, </span><span class="style11">uangBayar</span><span class="style10">);</span>
<span class="body">120      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|Kembalian    = Rp. %-61d|\n"</span><span class="style10">, </span><span class="style11">kembalian</span><span class="style10">);</span>
<span class="body">121      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|                                                                                |\n"</span><span class="style10">);</span>
<span class="body">122      </span><span class="style11">fprintf</span><span class="style10">(</span><span class="style11">f</span><span class="style10">,</span><span class="style6">"|================================================================================|\n"</span><span class="style10">);</span>
<span class="body">123  </span>
<span class="body">124  </span>
<span class="body">125  </span>
<span class="body">126  </span>
<span class="body">127  </span>
<span class="body">128      </span><span class="style2">//Close file</span>
<span class="body">129      </span><span class="style11">fclose</span><span class="style10">(</span><span class="style11">f</span><span class="style10">);</span>
<span class="body">130      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nStruk sudah disimpan dengan nama '%s'\n" </span><span class="style10">, </span><span class="style11">filename</span><span class="style10">);</span>
<span class="body">131  </span>
<span class="body">132  </span><span class="style10">}</span>
<span class="body">133  </span><span class="style2">//End code cetak struk</span>
<span class="body">134  </span>
<span class="body">135  </span><span class="style2">//Start code rekapan Pesanan</span>
<span class="body">136  </span><span class="style5">void </span><span class="style11">rekapPesanan</span><span class="style10">(</span><span class="style5">struct </span><span class="style11">barang isiBarang</span><span class="style10">[]){</span>
<span class="body">137      </span><span class="style2">//Deklarasi Rekapan Pesanan</span>
<span class="body">138      </span><span class="style5">int </span><span class="style11">totalHarga</span><span class="style10">, </span><span class="style11">diskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">139      </span><span class="style5">int </span><span class="style11">totalSemuaHarga </span><span class="style10">= </span><span class="style4">0</span><span class="style10">, </span><span class="style11">totalSemuaDiskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">, </span><span class="style11">totalBayar</span><span class="style10">, </span><span class="style11">kembalian</span><span class="style10">;</span>
<span class="body">140      </span><span class="style5">int </span><span class="style11">uangBayar </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">141      </span><span class="style5">int </span><span class="style11">j </span><span class="style10">= </span><span class="style4">1</span><span class="style10">;</span>
<span class="body">142  </span>
<span class="body">143      </span><span class="style2">//Code Rekapan Pesanan</span>
<span class="body">144      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Rekapan Pesanan Barang\n"</span><span class="style10">);</span>
<span class="body">145      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================================================\n"</span><span class="style10">);</span>
<span class="body">146      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"| No. | Jumlah |Nama Barang     |Harga         |Total Harga     |Diskon     |\n"</span><span class="style10">);</span>
<span class="body">147      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"|=====|========|================|==============|================|===========|\n"</span><span class="style10">);</span>
<span class="body">148      </span><span class="style2">//Start Looping array Barang</span>
<span class="body">149      </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">150          </span><span class="style5">if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">== </span><span class="style4">0</span><span class="style10">){</span>
<span class="body">151              </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">152          </span><span class="style10">}</span>
<span class="body">153          </span><span class="style5">else</span><span class="style10">{</span>
<span class="body">154              </span><span class="style2">//Perhitungan Total Harga Per item</span>
<span class="body">155              </span><span class="style11">totalHarga </span><span class="style10">= </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">* </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">harga</span><span class="style10">;</span>
<span class="body">156              </span><span class="style2">//Perhitungan diskon</span>
<span class="body">157              </span><span class="style5">if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">&gt;= </span><span class="style4">5</span><span class="style10">){</span>
<span class="body">158                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style11">totalHarga </span><span class="style10">* </span><span class="style4">0.15</span><span class="style10">;</span>
<span class="body">159              </span><span class="style10">}</span>
<span class="body">160              </span><span class="style5">else if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">&gt;= </span><span class="style4">3</span><span class="style10">){</span>
<span class="body">161                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style11">totalHarga </span><span class="style10">* </span><span class="style4">0.1</span><span class="style10">;</span>
<span class="body">162              </span><span class="style10">}</span>
<span class="body">163              </span><span class="style5">else</span><span class="style10">{</span>
<span class="body">164                  </span><span class="style11">diskon </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">165              </span><span class="style10">}</span>
<span class="body">166              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"| %-3d | %-7d|%-16s|Rp. %-10d|Rp. %-12d|Rp. %-7d|\n"</span><span class="style10">, </span><span class="style11">j</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">nama</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">harga</span><span class="style10">, </span><span class="style11">totalHarga</span><span class="style10">, </span><span class="style11">diskon</span><span class="style10">);</span>
<span class="body">167              </span><span class="style2">//Penambahan No.</span>
<span class="body">168              </span><span class="style11">j</span><span class="style10">++;</span>
<span class="body">169              </span><span class="style2">//Penambahan totalharga dan diskon</span>
<span class="body">170              </span><span class="style11">totalSemuaHarga </span><span class="style10">+= </span><span class="style11">totalHarga</span><span class="style10">;</span>
<span class="body">171              </span><span class="style11">totalSemuaDiskon </span><span class="style10">+= </span><span class="style11">diskon</span><span class="style10">;</span>
<span class="body">172          </span><span class="style10">}</span>
<span class="body">173      </span><span class="style10">}</span>
<span class="body">174      </span><span class="style2">//End Looping array Barang</span>
<span class="body">175      </span><span class="style2">//Penambahan Total Bayar</span>
<span class="body">176      </span><span class="style11">totalBayar </span><span class="style10">= </span><span class="style11">totalSemuaHarga </span><span class="style10">- </span><span class="style11">totalSemuaDiskon</span><span class="style10">;</span>
<span class="body">177      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================================================\n\n"</span><span class="style10">);</span>
<span class="body">178      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Total Harga = Rp. %d.-\n"</span><span class="style10">, </span><span class="style11">totalSemuaHarga</span><span class="style10">);</span>
<span class="body">179      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Total Diskon = Rp. %d.-\n"</span><span class="style10">, </span><span class="style11">totalSemuaDiskon</span><span class="style10">);</span>
<span class="body">180      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Total Bayar = Rp. %d.-\n\n"</span><span class="style10">, </span><span class="style11">totalBayar</span><span class="style10">);</span>
<span class="body">181      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================================================\n\n"</span><span class="style10">);</span>
<span class="body">182      </span><span class="style5">while </span><span class="style10">(</span><span class="style4">1</span><span class="style10">){</span>
<span class="body">183          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Masukkan uang bayar = Rp."</span><span class="style10">);</span>
<span class="body">184          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%d"</span><span class="style10">, &amp;</span><span class="style11">uangBayar</span><span class="style10">);</span>
<span class="body">185          </span><span class="style11">kembalian </span><span class="style10">= </span><span class="style11">uangBayar </span><span class="style10">- </span><span class="style11">totalBayar</span><span class="style10">;</span>
<span class="body">186          </span><span class="style5">if </span><span class="style10">(</span><span class="style11">kembalian </span><span class="style10">&lt; </span><span class="style4">0</span><span class="style10">){</span>
<span class="body">187              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Maaf, uang yang anda masukkan tidak cukup!\nSilahkan coba lagi\n\n"</span><span class="style10">);</span>
<span class="body">188              </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">189          </span><span class="style10">}</span>
<span class="body">190          </span><span class="style5">else</span><span class="style10">{</span>
<span class="body">191              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Kembalian : Rp.%d.-\n"</span><span class="style10">, </span><span class="style11">kembalian</span><span class="style10">);</span>
<span class="body">192              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"=============================================================================\n\n"</span><span class="style10">);</span>
<span class="body">193              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nTerimakasih sudah berbelanja!\n"</span><span class="style10">);</span>
<span class="body">194              </span><span class="style11">cetakNota</span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">, </span><span class="style11">uangBayar</span><span class="style10">);</span>
<span class="body">195              </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">196          </span><span class="style10">}</span>
<span class="body">197      </span><span class="style10">}</span>
<span class="body">198  </span><span class="style10">}</span>
<span class="body">199  </span><span class="style2">//End Code Rekapan Pesanan</span>
<span class="body">200  </span>
<span class="body">201  </span><span class="style2">//Start Code Sorting Item</span>
<span class="body">202  </span><span class="style5">void </span><span class="style11">sortingItem</span><span class="style10">(</span><span class="style5">struct </span><span class="style11">barang isiBarang</span><span class="style10">[]){</span>
<span class="body">203      </span><span class="style5">struct </span><span class="style11">barang temp</span><span class="style10">;</span>
<span class="body">204      </span><span class="style2">//Looping Bubble Sort</span>
<span class="body">205      </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS </span><span class="style10">- </span><span class="style4">1</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">206          </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">j </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">j </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS </span><span class="style10">- </span><span class="style11">i </span><span class="style10">- </span><span class="style4">1</span><span class="style10">; </span><span class="style11">j</span><span class="style10">++){</span>
<span class="body">207              </span><span class="style5">if </span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">&lt; </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">+</span><span class="style4">1</span><span class="style10">].</span><span class="style11">jumlah</span><span class="style10">){</span>
<span class="body">208                  </span><span class="style11">temp </span><span class="style10">= </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">];</span>
<span class="body">209                  </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">] = </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">+</span><span class="style4">1</span><span class="style10">];</span>
<span class="body">210                  </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">j</span><span class="style10">+</span><span class="style4">1</span><span class="style10">] = </span><span class="style11">temp</span><span class="style10">;</span>
<span class="body">211              </span><span class="style10">}</span>
<span class="body">212          </span><span class="style10">}</span>
<span class="body">213      </span><span class="style10">}</span>
<span class="body">214  </span><span class="style10">}</span>
<span class="body">215  </span><span class="style2">//End Code Sorting Item</span>
<span class="body">216  </span>
<span class="body">217  </span>
<span class="body">218  </span>
<span class="body">219  </span><span class="style2">//Start Code Main</span>
<span class="body">220  </span><span class="style5">int </span><span class="style11">main</span><span class="style10">(){</span>
<span class="body">221      </span><span class="style2">// Deklarasi Variable</span>
<span class="body">222      </span><span class="style5">int </span><span class="style11">pilihan </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">223      </span><span class="style5">int </span><span class="style11">jumlahSemuaBarang </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">224      </span><span class="style5">int </span><span class="style11">jumlahBeli </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">225      </span><span class="style5">int </span><span class="style11">tampilkanawal </span><span class="style10">= </span><span class="style4">1</span><span class="style10">;</span>
<span class="body">226      </span><span class="style5">char </span><span class="style11">konfirmasi</span><span class="style10">;</span>
<span class="body">227  </span>
<span class="body">228      </span><span class="style2">//Pengisian Array Barang dengan nama isiBarang</span>
<span class="body">229      </span><span class="style5">struct </span><span class="style11">barang isiBarang</span><span class="style10">[</span><span class="style11">MAX_ITEMS</span><span class="style10">] = {</span>
<span class="body">230      </span><span class="style10">{</span><span class="style6">"Buku Tulis"</span><span class="style10">, </span><span class="style4">5000</span><span class="style10">, </span><span class="style4">0</span><span class="style10">},</span>
<span class="body">231      </span><span class="style10">{</span><span class="style6">"Pensil"</span><span class="style10">, </span><span class="style4">2000</span><span class="style10">, </span><span class="style4">0</span><span class="style10">},</span>
<span class="body">232      </span><span class="style10">{</span><span class="style6">"Penghapus"</span><span class="style10">, </span><span class="style4">1000</span><span class="style10">, </span><span class="style4">0</span><span class="style10">},</span>
<span class="body">233      </span><span class="style10">{</span><span class="style6">"Penggaris"</span><span class="style10">, </span><span class="style4">1000</span><span class="style10">, </span><span class="style4">0</span><span class="style10">},</span>
<span class="body">234      </span><span class="style10">{</span><span class="style6">"Bujur Sangkar"</span><span class="style10">, </span><span class="style4">500</span><span class="style10">, </span><span class="style4">0</span><span class="style10">}</span>
<span class="body">235      </span><span class="style10">};</span>
<span class="body">236  </span>
<span class="body">237      </span><span class="style2">//Start Looping Pilihan</span>
<span class="body">238      </span><span class="style5">while </span><span class="style10">(</span><span class="style4">1</span><span class="style10">){</span>
<span class="body">239          </span><span class="style2">//Ambil code tampilan Awal</span>
<span class="body">240          </span><span class="style5">if </span><span class="style10">(</span><span class="style11">tampilkanawal </span><span class="style10">== </span><span class="style4">1</span><span class="style10">){</span>
<span class="body">241              </span><span class="style11">tampilanAwal</span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">);</span>
<span class="body">242              </span><span class="style11">tampilkanawal </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">243          </span><span class="style10">}</span>
<span class="body">244          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nInput pilihan yang Anda inginkan : "</span><span class="style10">);</span>
<span class="body">245          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%d"</span><span class="style10">, &amp;</span><span class="style11">pilihan</span><span class="style10">);</span>
<span class="body">246  </span>
<span class="body">247          </span><span class="style2">//Start Pengkondisian Pilihan</span>
<span class="body">248          </span><span class="style2">//Pilihan Barang</span>
<span class="body">249          </span><span class="style5">if </span><span class="style10">(</span><span class="style11">pilihan </span><span class="style10">&gt;=</span><span class="style4">1 </span><span class="style10">&amp;&amp; </span><span class="style11">pilihan </span><span class="style10">&lt;= </span><span class="style4">5</span><span class="style10">){</span>
<span class="body">250              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Masukkan Jumlah beli %s : "</span><span class="style10">, </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">pilihan </span><span class="style10">- </span><span class="style4">1</span><span class="style10">].</span><span class="style11">nama</span><span class="style10">);</span>
<span class="body">251              </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%d"</span><span class="style10">, &amp;</span><span class="style11">jumlahBeli</span><span class="style10">);</span>
<span class="body">252              </span><span class="style5">if </span><span class="style10">(</span><span class="style11">jumlahBeli </span><span class="style10">&lt;= </span><span class="style4">0</span><span class="style10">){</span>
<span class="body">253                  </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Jumlah Beli Barang Tidak boleh kurang dari 0!"</span><span class="style10">);</span>
<span class="body">254                  </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">255              </span><span class="style10">}</span>
<span class="body">256              </span><span class="style5">else</span><span class="style10">{</span>
<span class="body">257              </span><span class="style10">}</span>
<span class="body">258                  </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">pilihan </span><span class="style10">- </span><span class="style4">1</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">+= </span><span class="style11">jumlahBeli</span><span class="style10">;</span>
<span class="body">259                  </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">260              </span><span class="style10">}</span>
<span class="body">261          </span><span class="style2">//Pilihan Reset Pilihan</span>
<span class="body">262          </span><span class="style5">else if </span><span class="style10">(</span><span class="style11">pilihan </span><span class="style10">== </span><span class="style4">55</span><span class="style10">){</span>
<span class="body">263              </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">264                  </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">265              </span><span class="style10">}</span>
<span class="body">266              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nPilihan Barang Telah Direset!\n"</span><span class="style10">);</span>
<span class="body">267              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Klik Enter untuk melanjutkan......"</span><span class="style10">);</span>
<span class="body">268              </span><span class="style5">while </span><span class="style10">(</span><span class="style11">getchar</span><span class="style10">() != </span><span class="style7">'\n'</span><span class="style10">);</span>
<span class="body">269              </span><span class="style11">getchar</span><span class="style10">();</span><span class="style2">//Untuk menangkap enter</span>
<span class="body">270              </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"cls"</span><span class="style10">);</span><span class="style2">//Membersihkan layar</span>
<span class="body">271              </span><span class="style11">tampilkanawal </span><span class="style10">= </span><span class="style4">1</span><span class="style10">;</span>
<span class="body">272              </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">273          </span><span class="style10">}</span>
<span class="body">274          </span><span class="style2">//Pilihan Rekapan Pesanan</span>
<span class="body">275          </span><span class="style5">else if </span><span class="style10">(</span><span class="style11">pilihan </span><span class="style10">== </span><span class="style4">99</span><span class="style10">){</span>
<span class="body">276              </span><span class="style2">//Pengecekan Jumlah untuk kondisi</span>
<span class="body">277              </span><span class="style5">for </span><span class="style10">(</span><span class="style5">int </span><span class="style11">i </span><span class="style10">= </span><span class="style4">0</span><span class="style10">; </span><span class="style11">i </span><span class="style10">&lt; </span><span class="style11">MAX_ITEMS</span><span class="style10">; </span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">278                  </span><span class="style11">jumlahSemuaBarang </span><span class="style10">+= </span><span class="style11">isiBarang</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">jumlah</span><span class="style10">;</span>
<span class="body">279              </span><span class="style10">}</span>
<span class="body">280              </span><span class="style5">if </span><span class="style10">(</span><span class="style11">jumlahSemuaBarang </span><span class="style10">== </span><span class="style4">0</span><span class="style10">){</span>
<span class="body">281                  </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nAnda belum membeli apapun. Silahkan pilih barang terlebih dahulu!\n\n"</span><span class="style10">);</span>
<span class="body">282                  </span><span class="style5">continue</span><span class="style10">;</span>
<span class="body">283              </span><span class="style10">}</span>
<span class="body">284              </span><span class="style5">else</span><span class="style10">{</span>
<span class="body">285                  </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"cls"</span><span class="style10">);</span>
<span class="body">286                  </span><span class="style11">sortingItem</span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">);</span>
<span class="body">287                  </span><span class="style11">rekapPesanan</span><span class="style10">(</span><span class="style11">isiBarang</span><span class="style10">);</span>
<span class="body">288  </span>
<span class="body">289              </span><span class="style10">}</span>
<span class="body">290          </span><span class="style10">}</span>
<span class="body">291          </span><span class="style2">//Pilihan Keluar</span>
<span class="body">292          </span><span class="style5">else if </span><span class="style10">(</span><span class="style11">pilihan </span><span class="style10">== </span><span class="style4">00</span><span class="style10">){</span>
<span class="body">293              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nMenghentikan Program.........\n"</span><span class="style10">);</span>
<span class="body">294              </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">295          </span><span class="style10">}</span>
<span class="body">296          </span><span class="style5">else </span><span class="style10">{</span>
<span class="body">297              </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Input Tidak valid!"</span><span class="style10">);</span>
<span class="body">298          </span><span class="style10">}</span>
<span class="body">299          </span><span class="style2">//End Pengkondisian Pilihan</span>
<span class="body">300      </span><span class="style10">}</span>
<span class="body">301      </span><span class="style2">//End Looping Pilihan</span>
<span class="body">302  </span><span class="style10">}</span>
<span class="body">303  </span><span class="style2">//End Code Main</span>
<span class="body">304  </span><span class="style2">// Copy Paste Area</span>
<span class="body">305  </span><span class="style2">//    printf("");</span></span>
</code></pre>
</body>
</html>
